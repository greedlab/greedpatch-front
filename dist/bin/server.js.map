{"version":3,"sources":["bin/server.js"],"names":["debug","name","app","keys","cookie_keys","use","join","__dirname","router","routes","allowedMethods","ctx","next","request","listen","port"],"mappings":";;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;;;AACA,IAAMA,QAAQ,oBAAU,kBAAIC,IAAd,CAAd;;AAEA,IAAMC,MAAM,mBAAZ;;AAEAA,IAAIC,IAAJ,GAAW,iBAAOC,WAAlB;;AAEA;;AAEAF,IAAIG,GAAJ,CAAQ,0BAAR;;AAEA;;AAEAH,IAAIG,GAAJ,CAAQ,8BAAR;;AAEA;;AAEAH,IAAIG,GAAJ,CAAQ,0BAAQ,eAAKC,IAAL,CAAUC,SAAV,EAAoB,uBAApB,CAAR,CAAR;;AAEA;;AAEAL,IAAIG,GAAJ,CAAQ,yBAAM,eAAKC,IAAL,CAAUC,SAAV,EAAoB,WAApB,CAAN,CAAR;;AAEA;;AAEAL,IACKG,GADL,CACS,eAAKG,MAAL,CAAYC,MAAZ,EADT,EAEKJ,GAFL,CAES,eAAKG,MAAL,CAAYE,cAAZ,EAFT;;AAIAR,IAAIG,GAAJ;AAAA,gEAAQ,iBAAOM,GAAP,EAAYC,IAAZ;AAAA;AAAA;AAAA;AAAA;AACJZ,8BAAMW,IAAIE,OAAV;AADI,yDAEGD,MAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAR;;AAAA;AAAA;AAAA;AAAA;;AAKA;;AAEAV,IAAIY,MAAJ,CAAW,iBAAOC,IAAlB","file":"bin/server.js","sourcesContent":["\nimport koa from 'koa';\nimport logger from 'koa-logger';\nimport favicon from 'koa-favicon';\nimport serve from 'koa-static';\nimport bodyParser from 'koa-bodyparser';\nimport path from 'path';\n\nimport config from '../config';\n\nimport home from '../routes/home';\nimport book from '../routes/book';\n\nimport Debug from 'debug';\nimport pkg from '../../package.json';\nconst debug = new Debug(pkg.name);\n\nconst app = new koa();\n\napp.keys = config.cookie_keys;\n\n// logger\n\napp.use(logger());\n\n// bodyParser\n\napp.use(bodyParser());\n\n// favicon\n\napp.use(favicon(path.join(__dirname,'../assets/favicon.ico')));\n\n// static\n\napp.use(serve(path.join(__dirname,'../assets')));\n\n// router\n\napp\n    .use(home.router.routes())\n    .use(home.router.allowedMethods());\n\napp.use(async (ctx, next) => {\n    debug(ctx.request);\n    return next();\n});\n\n// listen\n\napp.listen(config.port);\n"],"sourceRoot":"/source/"}