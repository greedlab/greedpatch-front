{"version":3,"sources":["js/util.js"],"names":["copyToClipboard","elem","targetId","isInput","tagName","origSelectionStart","origSelectionEnd","target","selectionStart","selectionEnd","document","getElementById","createElement","style","position","left","top","id","body","appendChild","textContent","currentFocus","activeElement","focus","setSelectionRange","value","length","succeed","execCommand","e"],"mappings":";;AAAA;;;;AAIA;;;;;;AAMA,SAASA,eAAT,CAAyBC,IAAzB,EAA+B;AAC3B;AACA,QAAIC,WAAW,kBAAf;AACA,QAAIC,UAAUF,KAAKG,OAAL,KAAiB,OAAjB,IAA4BH,KAAKG,OAAL,KAAiB,UAA3D;AACA,QAAIC,kBAAJ,EAAwBC,gBAAxB;AACA,QAAIH,OAAJ,EAAa;AACT;AACAI,iBAASN,IAAT;AACAI,6BAAqBJ,KAAKO,cAA1B;AACAF,2BAAmBL,KAAKQ,YAAxB;AACH,KALD,MAKO;AACH;AACAF,iBAASG,SAASC,cAAT,CAAwBT,QAAxB,CAAT;AACA,YAAI,CAACK,MAAL,EAAa;AACT,gBAAIA,SAASG,SAASE,aAAT,CAAuB,UAAvB,CAAb;AACAL,mBAAOM,KAAP,CAAaC,QAAb,GAAwB,UAAxB;AACAP,mBAAOM,KAAP,CAAaE,IAAb,GAAoB,SAApB;AACAR,mBAAOM,KAAP,CAAaG,GAAb,GAAmB,GAAnB;AACAT,mBAAOU,EAAP,GAAYf,QAAZ;AACAQ,qBAASQ,IAAT,CAAcC,WAAd,CAA0BZ,MAA1B;AACH;AACDA,eAAOa,WAAP,GAAqBnB,KAAKmB,WAA1B;AACH;AACD;AACA,QAAIC,eAAeX,SAASY,aAA5B;AACAf,WAAOgB,KAAP;AACAhB,WAAOiB,iBAAP,CAAyB,CAAzB,EAA4BjB,OAAOkB,KAAP,CAAaC,MAAzC;;AAEA;AACA,QAAIC,OAAJ;AACA,QAAI;AACAA,kBAAUjB,SAASkB,WAAT,CAAqB,MAArB,CAAV;AACH,KAFD,CAEE,OAAMC,CAAN,EAAS;AACPF,kBAAU,KAAV;AACH;AACD;AACA,QAAIN,gBAAgB,OAAOA,aAAaE,KAApB,KAA8B,UAAlD,EAA8D;AAC1DF,qBAAaE,KAAb;AACH;;AAED,QAAIpB,OAAJ,EAAa;AACT;AACAF,aAAKuB,iBAAL,CAAuBnB,kBAAvB,EAA2CC,gBAA3C;AACH,KAHD,MAGO;AACH;AACAC,eAAOa,WAAP,GAAqB,EAArB;AACH;AACD,WAAOO,OAAP;AACH","file":"js/util.js","sourcesContent":["/**\n * Created by Bell on 16/9/8.\n */\n\n/**\n * http://stackoverflow.com/a/22581382/5541472\n *\n * @param elem\n * @returns {*}\n */\nfunction copyToClipboard(elem) {\n    // create hidden text element, if it doesn't already exist\n    var targetId = \"_hiddenCopyText_\";\n    var isInput = elem.tagName === \"INPUT\" || elem.tagName === \"TEXTAREA\";\n    var origSelectionStart, origSelectionEnd;\n    if (isInput) {\n        // can just use the original source element for the selection and copy\n        target = elem;\n        origSelectionStart = elem.selectionStart;\n        origSelectionEnd = elem.selectionEnd;\n    } else {\n        // must use a temporary form element for the selection and copy\n        target = document.getElementById(targetId);\n        if (!target) {\n            var target = document.createElement(\"textarea\");\n            target.style.position = \"absolute\";\n            target.style.left = \"-9999px\";\n            target.style.top = \"0\";\n            target.id = targetId;\n            document.body.appendChild(target);\n        }\n        target.textContent = elem.textContent;\n    }\n    // select the content\n    var currentFocus = document.activeElement;\n    target.focus();\n    target.setSelectionRange(0, target.value.length);\n\n    // copy the selection\n    var succeed;\n    try {\n        succeed = document.execCommand(\"copy\");\n    } catch(e) {\n        succeed = false;\n    }\n    // restore original focus\n    if (currentFocus && typeof currentFocus.focus === \"function\") {\n        currentFocus.focus();\n    }\n\n    if (isInput) {\n        // restore prior selection\n        elem.setSelectionRange(origSelectionStart, origSelectionEnd);\n    } else {\n        // clear temporary content\n        target.textContent = \"\";\n    }\n    return succeed;\n}\n"],"sourceRoot":"/source/"}